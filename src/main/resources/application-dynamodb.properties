#---
spring.config.activate.on-profile=dev
spring.jpa.show-sql=false

# DynamoDB-only mode: prevent Spring Boot from configuring JDBC/JPA/Flyway
spring.autoconfigure.exclude=\
org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,\
org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration,\
org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration,\
org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration

# Disable JPA when using DynamoDB
spring.jpa.hibernate.ddl-auto=none
spring.datasource.url=
spring.flyway.enabled=false

# Enable/disable auto table creation (useful for local dev)
aws.dynamodb.auto-create-tables=true

# File logging
logging.file.name=logs/messenger-dynamodb.log
logging.file.max-size=10MB
logging.file.max-history=10

# DynamoDB Configuration (only used when profile=dynamodb)
aws.dynamodb.endpoint=http://localhost:8000
aws.region=us-east-1
aws.accessKeyId=${DDB_ACCESS_KEY}
aws.secretAccessKey=${DDB_SECRET_KEY}

#---
spring.config.activate.on-profile=prod
spring.flyway.enabled=true
